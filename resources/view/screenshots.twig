{% extends '_partials/index.twig' %}

{% block meta %}
    {{ parent() }}

    <link rel="canonical" href="https://stitcher.io/books"/>
{% endblock %}

{% block head %}

    {{ css.inline('resources/css/code.scss')|raw }}
    {{ js.link('resources/js/html-to-image.js')|raw }}
    {{ js.link('resources/js/download.min.js')|raw }}

    <style>
        article.blog {
            margin:0 !important;
        }

        body {
            font-size: 30pt;
            /*background-image: url('resources/img/back.png');*/
            /*background-size: cover;*/
            /*background-repeat: no-repeat;*/
        }

        pre {
            font-family: Menlo, Monaco, "Ubuntu Mono", "Courier New", monospace;
            line-height: 2.2em;
            padding: 0;
            /*background-color: rgba(246, 246, 246, 1);*/
            background-color: white;
            border: 1px solid rgba(200, 200, 200, 1);
            width: 1920pt;
            height: 1080pt;
            display: flex;
            align-items: center;

            /*margin-top: 375px;*/
        }

        pre > code {
            display: block;
            height: auto;
            padding: 1em;
            padding-left: 2em;
            width: 100%;
            font-family: Menlo, Monaco, "Ubuntu Mono", "Courier New", monospace;
        }

        img {
            width: 100%;
            height: auto;
        }

        .screenshot > img {
            width: auto;
            box-shadow: 0 5px 30px 2px #000;
            border-radius: 5px;
        }

        .blog {
            margin: 0 auto;
        }

        .screenshot-hidden span {
            border-radius: 6px;
            color: rgba(0,0,0,0) !important;
            background: var(--screenshot-color, none) !important;
        }

        .screenshot-hidden span.hljs-keyword {
            --screenshot-color: #4285f4;
        }

        .screenshot-hidden span.prop {
            --screenshot-color: #34a853;
        }

        .screenshot-hidden span.type {
            --screenshot-color: #ea4334;
        }

        .screenshot-hidden span.text {
            --screenshot-color: #000;
        }
    </style>
{% endblock %}

{% block content %}
    <article class="blog">
        {{ content|raw }}
    </article>

    <script>
        // const nodes = document.querySelectorAll('.screenshot');
        //
        // for (let node of nodes) {
        //     node.addEventListener('click', () => {
        //         function filter (node) {
        //             return (node.tagName !== 'i');
        //         }
        //
        //         htmlToImage.toPng(node,  {canvasWidth: 500, width: 500})
        //             .then(function (dataUrl) {
        //                 download(dataUrl, 'code-screenshot.png');
        //             });
        //     });
        // }
    </script>
{% endblock %}
